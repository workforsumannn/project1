<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Annu Ka Magical World - Music Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%, #e1f5fe 100%);
            min-height: 100vh;
            overflow-x: hidden;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="font-size: 20px;"><text y="16">‚ú®</text></svg>'), auto;
        }

        .title-font { font-family: 'Dancing Script', cursive; }

        .floating { animation: float 3s ease-in-out infinite; }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        /* Particles */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: -1;
            animation: moveUp 5s linear infinite;
        }

        @keyframes moveUp {
            0% { transform: translateY(100vh) scale(0.5); opacity: 1; }
            100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.82);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 30px;
            transition: transform 0.3s ease;
        }
        .glass-card:hover { transform: translateY(-5px); }

        .btn-magic {
            background: linear-gradient(45deg, #ff4081, #f06292);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(255, 64, 129, 0.2);
        }

        .btn-magic:hover { transform: scale(1.05); box-shadow: 0 8px 25px rgba(255, 64, 129, 0.4); }

        .love-meter-bar {
            height: 16px; width: 0%; background: linear-gradient(90deg, #ff80ab, #ff4081, #ba68c8);
            transition: width 2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Music Visualizer Animation */
        .bar {
            width: 4px; height: 10px; background: #ff4081; border-radius: 2px;
            animation: bounce 0.5s ease-in-out infinite alternate;
        }
        @keyframes bounce {
            from { height: 10px; }
            to { height: 30px; }
        }

        .shake:hover { animation: shake 0.5s ease-in-out; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body class="flex flex-col items-center p-4 py-10" onclick="spawnClickEffect(event)">

    <div id="particle-container"></div>
    <div id="confetti-container"></div>

    <!-- Header Section -->
    <div class="max-w-md w-full glass-card p-8 shadow-2xl text-center relative z-10 mb-8 border-t-4 border-pink-400">
        <h1 class="text-6xl title-font text-pink-600 mb-2 floating">Annu's World ‚ú®</h1>
        <p class="text-gray-500 italic font-medium">Music, Magic & Pure Happiness!</p>
    </div>

    <!-- NEW: Music Player UI -->
    <div class="max-w-md w-full glass-card p-6 shadow-xl text-center relative z-10 mb-8 border-l-8 border-pink-500">
        <h3 class="text-pink-600 font-bold mb-4 text-xs tracking-widest uppercase">Annu's Favorite Track üéµ</h3>
        <div class="flex items-center justify-center gap-4 mb-4">
            <div id="visualizer" class="hidden flex items-end gap-1 h-10">
                <div class="bar" style="animation-delay: 0.1s"></div>
                <div class="bar" style="animation-delay: 0.3s"></div>
                <div class="bar" style="animation-delay: 0.2s"></div>
                <div class="bar" style="animation-delay: 0.4s"></div>
            </div>
            <button onclick="toggleMusic()" id="music-btn" class="w-16 h-16 rounded-full bg-pink-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition active:scale-95">
                <span id="play-icon" class="text-2xl">‚ñ∂Ô∏è</span>
            </button>
        </div>
        <p class="text-xs text-gray-400 italic">"Background music bajane ke liye click karein"</p>
        <!-- AUDIO TAG: Replace 'music.mp3' with your file name -->
        <audio id="bg-audio" loop>
            <source src="music.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>

    <!-- Secret Message Input -->
    <div class="max-w-md w-full glass-card p-6 shadow-xl text-center relative z-10 mb-8">
        <h3 class="text-pink-600 font-bold mb-3 uppercase text-xs tracking-tighter">Enter Secret Code ü§´</h3>
        <input type="text" id="secret-input" placeholder="Hint: Tumhara naam..." class="w-full p-3 rounded-2xl border-2 border-pink-100 focus:border-pink-400 outline-none text-center mb-3 transition-all">
        <button onclick="checkSecret()" class="btn-magic text-white px-8 py-2 rounded-full font-bold shadow-md">Unlock Magic</button>
    </div>

    <!-- Love Meter -->
    <div class="max-w-md w-full glass-card p-6 shadow-xl text-center relative z-10 mb-8 overflow-hidden">
        <h3 class="text-pink-600 font-bold mb-2">Happiness Meter üíñ</h3>
        <div class="w-full bg-gray-100 rounded-full h-4 mb-4 overflow-hidden shadow-inner">
            <div id="love-bar" class="love-meter-bar rounded-full"></div>
        </div>
        <button onclick="startLoveMeter()" id="meter-btn" class="btn-magic text-white text-xs px-6 py-2 rounded-full font-bold uppercase">Check Today's Vibe</button>
        <p id="meter-result" class="mt-2 font-bold text-pink-500 text-xl hidden animate-bounce">100% Awesome!</p>
    </div>

    <!-- Fortune & Tasks -->
    <div class="max-w-md w-full grid grid-cols-2 gap-4 mb-8 relative z-10">
        <div class="glass-card p-5 text-center flex flex-col items-center justify-center cursor-pointer shake" onclick="showFortune()">
            <span class="text-4xl mb-2">ü•†</span>
            <p class="text-[10px] font-bold text-pink-600 uppercase">Fortune Cookie</p>
        </div>
        <div class="glass-card p-5 text-center flex flex-col items-center justify-center cursor-pointer shake" onclick="getDailyTask()">
            <span class="text-4xl mb-2">üéØ</span>
            <p class="text-[10px] font-bold text-pink-600 uppercase">Magic Task</p>
        </div>
    </div>

    <!-- NEW: Superpowers Section -->
    <div class="max-w-md w-full glass-card p-6 shadow-xl text-center relative z-10 mb-8">
        <h3 class="text-pink-600 font-bold mb-4 text-xs uppercase">Annu's Superpowers ‚ö°</h3>
        <div class="flex flex-wrap justify-center gap-2">
            <span class="bg-pink-100 text-pink-600 px-3 py-1 rounded-full text-xs font-semibold border border-pink-200">Killer Smile üòä</span>
            <span class="bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-xs font-semibold border border-blue-200">Infinite Cuteness ü•∞</span>
            <span class="bg-purple-100 text-purple-600 px-3 py-1 rounded-full text-xs font-semibold border border-purple-200">Angry Bird Mode üò°</span>
            <span class="bg-yellow-100 text-yellow-600 px-3 py-1 rounded-full text-xs font-semibold border border-yellow-200">Pure Gold Heart üíõ</span>
        </div>
    </div>

    <!-- Mood Checker -->
    <div class="max-w-md w-full glass-card p-6 shadow-xl text-center relative z-10 mb-8">
        <h3 class="text-pink-600 font-bold mb-4 text-sm uppercase">Current Mood?</h3>
        <div class="flex justify-around">
            <button onclick="setMood('Happy')" class="text-4xl hover:scale-125 transition grayscale hover:grayscale-0">üòä</button>
            <button onclick="setMood('Sad')" class="text-4xl hover:scale-125 transition grayscale hover:grayscale-0">ü•∫</button>
            <button onclick="setMood('Tired')" class="text-4xl hover:scale-125 transition grayscale hover:grayscale-0">üò¥</button>
        </div>
        <p id="mood-response" class="mt-4 text-pink-400 font-medium text-sm italic min-h-[1.2rem]"></p>
    </div>

    <!-- NEW: Virtual Hug Button -->
    <div class="max-w-md w-full mb-8 relative z-10">
        <button onclick="sendHug()" class="w-full bg-white text-pink-500 py-4 rounded-3xl font-bold shadow-lg border-2 border-pink-200 hover:bg-pink-50 transition active:scale-95">
            Send Virtual Hug! ü´Ç
        </button>
    </div>

    <!-- Gift Section -->
    <div class="max-w-md w-full glass-card p-8 shadow-2xl text-center relative z-10 mb-8">
        <h3 class="text-pink-600 font-bold mb-6 uppercase text-xs tracking-widest">A Surprise Box üéÅ</h3>
        <div id="gift-area" class="relative h-24 flex items-center justify-center">
            <div id="gift" class="w-20 h-20 bg-pink-500 rounded-lg shadow-lg flex items-center justify-center cursor-pointer transition-all hover:rotate-12" onclick="openGift()">
                <div class="w-full h-3 bg-yellow-300 absolute"></div>
                <div class="h-full w-3 bg-yellow-300 absolute"></div>
                <span class="text-white font-bold z-10 text-xs">OPEN</span>
            </div>
            <div id="gift-content" class="hidden text-6xl animate-bounce">üç¶</div>
        </div>
        <p id="gift-msg" class="mt-4 text-pink-500 font-bold hidden">Ek thandi ice-cream for the coolest girl!</p>
    </div>

    <!-- Final Secret Question -->
    <div class="max-w-md w-full glass-card p-8 shadow-2xl text-center relative z-10 mb-20 border-b-8 border-pink-500">
        <h3 class="text-lg font-bold text-pink-600 mb-6 leading-tight">Kya aap tayyar hain hamesha khush rehne ke liye?</h3>
        <div class="flex gap-4 justify-center">
            <button onclick="revealMessage('Haan')" class="btn-magic text-white px-8 py-3 rounded-2xl font-bold shadow-lg">Yes! ‚ú®</button>
            <button id="no-btn" onmouseover="moveNo()" class="bg-gray-300 text-gray-600 px-8 py-3 rounded-2xl font-bold">No üòú</button>
        </div>
    </div>

    <!-- Custom Modal -->
    <div id="custom-modal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center p-4 z-[1000]">
        <div class="bg-white rounded-[35px] p-8 max-w-xs w-full text-center shadow-2xl border-t-8 border-pink-400">
            <div id="modal-text" class="text-xl text-gray-700 mb-6 font-medium leading-relaxed"></div>
            <button onclick="closeModal()" class="btn-magic text-white px-10 py-2 rounded-full font-bold shadow-md">Love it! ‚ù§Ô∏è</button>
        </div>
    </div>

    <footer class="my-10 text-pink-800 text-xs font-bold opacity-60 tracking-tighter">
        DESIGNED FOR ANNU'S SMILE ‚ù§Ô∏è
    </footer>

    <script>
        // Data arrays
        const fortunes = [
            "Aaj aapka luck sabse top par hai! ‚ú®",
            "Kuch bohot achha hone wala hai aapke saath. üåà",
            "Aapki smile kisi ka din bana degi aaj! üòä",
            "You are doing great, keep going! üöÄ",
            "Aaj aapko koi surprise mil sakta hai! üéÅ"
        ];

        const tasks = [
            "Smile for 10 seconds straight! üòÅ",
            "Drink a glass of water right now! üíß",
            "Mirror mein dekh kar bolo 'I am the best'! ü™û",
            "Close your eyes and take 3 deep breaths. üßò‚Äç‚ôÄÔ∏è",
            "Listen to your favorite song and dance! üéµ"
        ];

        // Background Particles
        function createParticle() {
            const p = document.createElement('div');
            p.className = 'particle';
            const icons = ['‚ù§Ô∏è', '‚ú®', 'üå∏', 'üíñ', '‚≠ê', 'üéµ', 'üé∂'];
            p.innerHTML = icons[Math.floor(Math.random() * icons.length)];
            p.style.left = Math.random() * 100 + 'vw';
            p.style.fontSize = (Math.random() * 15 + 10) + 'px';
            p.style.animationDuration = (Math.random() * 3 + 4) + 's';
            p.style.opacity = Math.random() * 0.5 + 0.3;
            document.getElementById('particle-container').appendChild(p);
            setTimeout(() => p.remove(), 5000);
        }
        setInterval(createParticle, 500);

        // Music Logic
        function toggleMusic() {
            const audio = document.getElementById('bg-audio');
            const icon = document.getElementById('play-icon');
            const vis = document.getElementById('visualizer');
            
            if (audio.paused) {
                audio.play().catch(e => {
                    alert("Pehle 'music.mp3' file add karein code mein! Tab tak enjoy the animations. üòâ");
                });
                icon.innerText = '‚è∏Ô∏è';
                vis.classList.remove('hidden');
            } else {
                audio.pause();
                icon.innerText = '‚ñ∂Ô∏è';
                vis.classList.add('hidden');
            }
        }

        // Virtual Hug Logic
        function sendHug() {
            for(let i=0; i<15; i++) {
                setTimeout(() => {
                    const hug = document.createElement('div');
                    hug.className = 'fixed text-6xl pointer-events-none z-[100] animate-ping';
                    hug.innerHTML = 'ü´Ç';
                    hug.style.left = Math.random() * 80 + 10 + 'vw';
                    hug.style.top = Math.random() * 80 + 10 + 'vh';
                    document.body.appendChild(hug);
                    setTimeout(() => hug.remove(), 1000);
                }, i * 100);
            }
            launchConfetti();
        }

        // Click Effect
        function spawnClickEffect(e) {
            const effect = document.createElement('div');
            effect.className = 'absolute pointer-events-none z-[100] text-2xl animate-ping';
            effect.innerHTML = 'üíñ';
            effect.style.left = (e.pageX - 15) + 'px';
            effect.style.top = (e.pageY - 15) + 'px';
            document.body.appendChild(effect);
            setTimeout(() => effect.remove(), 500);
        }

        // Secret Input
        function checkSecret() {
            const val = document.getElementById('secret-input').value.toLowerCase().trim();
            const modal = document.getElementById('custom-modal');
            const mText = document.getElementById('modal-text');
            
            if(val === 'annu') {
                mText.innerHTML = "Hi Annu! ‚ù§Ô∏è<br><br>Aapke liye ek baat: Aapki smile pure world mein sabse best hai! Gussa mat hua karo, smile karo! ‚ú®";
                modal.classList.remove('hidden');
                launchConfetti();
            } else {
                alert("Wrong code! Hint: Aapka apna naam try karein. üòâ");
            }
        }

        // Other features
        function showFortune() {
            const mText = document.getElementById('modal-text');
            mText.innerText = fortunes[Math.floor(Math.random() * fortunes.length)];
            document.getElementById('custom-modal').classList.remove('hidden');
            launchConfetti();
        }

        function getDailyTask() {
            const mText = document.getElementById('modal-text');
            mText.innerText = "Aaj ka Magic Task: " + tasks[Math.floor(Math.random() * tasks.length)];
            document.getElementById('custom-modal').classList.remove('hidden');
        }

        function launchConfetti() {
            for (let i = 0; i < 50; i++) {
                const c = document.createElement('div');
                c.className = 'fixed w-2 h-2 z-[100]';
                c.style.backgroundColor = ['#ff4081', '#ffd54f', '#4fc3f7', '#ba68c8'][Math.floor(Math.random() * 4)];
                c.style.left = Math.random() * 100 + 'vw';
                c.style.top = '-10px';
                c.style.transition = 'transform 3s linear, opacity 3s';
                document.body.appendChild(c);
                setTimeout(() => {
                    c.style.transform = `translate(${Math.random() * 100 - 50}px, 100vh) rotate(${Math.random() * 360}deg)`;
                    c.style.opacity = '0';
                }, 10);
                setTimeout(() => c.remove(), 3000);
            }
        }

        function startLoveMeter() {
            const bar = document.getElementById('love-bar');
            const res = document.getElementById('meter-result');
            bar.style.width = "100%";
            setTimeout(() => {
                res.classList.remove('hidden');
                launchConfetti();
            }, 2000);
        }

        function setMood(mood) {
            const resp = document.getElementById('mood-response');
            let t = (mood === 'Happy') ? "Duniya ki sabse pyari smile! ‚ú®" : 
                    (mood === 'Sad') ? "Sad mat ho, Annu! Main hoon na! üç´" : 
                    "Princess, thoda aaram kar lo! üò¥";
            resp.innerText = t;
        }

        function openGift() {
            document.getElementById('gift').style.transform = 'scale(0) rotate(180deg)';
            setTimeout(() => {
                document.getElementById('gift').classList.add('hidden');
                document.getElementById('gift-content').classList.remove('hidden');
                document.getElementById('gift-msg').classList.remove('hidden');
                launchConfetti();
            }, 300);
        }

        function revealMessage(choice) {
            const mText = document.getElementById('modal-text');
            mText.innerText = "YAY! Aapne YES bola! Ab se aapki life mein sirf smile hogi! I promise! ‚ù§Ô∏è‚ú®";
            document.getElementById('custom-modal').classList.remove('hidden');
            launchConfetti();
        }

        function closeModal() { document.getElementById('custom-modal').classList.add('hidden'); }

        function moveNo() {
            const btn = document.getElementById('no-btn');
            btn.style.position = 'fixed';
            btn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            btn.style.top = Math.random() * (window.innerHeight - 50) + 'px';
            btn.style.zIndex = '1000';
        }
    </script>
</body>
</html>
