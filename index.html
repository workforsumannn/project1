<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tere Liye - Experience</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        body { background-color: #02040a; margin: 0; overflow: hidden; color: white; font-family: 'Playfair Display', serif; }
        .animate-twinkle { animation: twinkle 3s ease-in-out infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.2); } }
        .animate-page-reveal { animation: reveal 1.5s ease-out forwards; }
        @keyframes reveal { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .blur-text { filter: blur(8px); opacity: 0; transition: all 1s ease; }
        .active-text { filter: blur(0); opacity: 1; transform: scale(1.05); transition: all 0.8s ease; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        const App = () => {
            const [isStarted, setIsStarted] = useState(false);
            const [activeLyricIndex, setActiveLyricIndex] = useState(0);
            const audioRef = useRef(null);

            // Exactly synced with the original 3:18 min track
            const lyrics = [
                { text: "üé∏ (Music playing...)", time: 0, isIcon: true },
                { text: "Kaagaz ke phool laau tere liye", time: 14.2 },
                { text: "Khat likhu tere liye", time: 18.8 },
                { text: "Mai khuda me maanu nahi", time: 23.4 },
                { text: "Par maangu dua tere liye", time: 27.8 },
                { text: "üíô", time: 31.5, isIcon: true },
                { text: "Tere liye ghar banaau", time: 34.0 },
                { text: "Deewaarein neele rang se sajaau", time: 38.4 },
                { text: "Pasand hai tumhe, maloom hai", time: 43.1 },
                { text: "Tumne bataya tha ek dafe", time: 47.6 },
                { text: "üí†", time: 52.2, isIcon: true },
                { text: "Neele phool laau tere liye", time: 54.8 },
                { text: "Khat likhu tere liye", time: 59.3 },
                { text: "Mai khuda me maanu nahi", time: 63.8 },
                { text: "Par maangu dua tere liye", time: 68.4 },
                { text: "üé∏ (Music Solo)", time: 73.0, isIcon: true },
                { text: "Teri baatein nasamajh si phir bhi jaayaz lag rahi hai", time: 77.2 },
                { text: "Tu pareshan kar rahi hai phir bhi masoom lag rahi hai", time: 85.8 },
                { text: "Tere liye mandir jaaun", time: 94.6 },
                { text: "Tere naam ka dia jalaaun", time: 99.2 },
                { text: "Hasta rahe tu chaahe jo ho", time: 103.8 },
                { text: "Teri hasi ko nazar na lage", time: 108.3 },
                { text: "üßø", time: 112.5, isIcon: true },
                { text: "Kaagaz ke phool laau tere liye...", time: 115.8 },
                { text: "Edit by Ft. Sumann", time: 185.0 }
            ];

            const handleStart = () => {
                setIsStarted(true);
                setTimeout(() => {
                    if(audioRef.current) {
                        audioRef.current.play().catch(err => console.log("Play blocked"));
                    }
                }, 300);
            };

            useEffect(() => {
                const audio = audioRef.current;
                const handleTimeUpdate = () => {
                    const current = audio.currentTime;
                    const index = lyrics.findLastIndex(l => current >= l.time);
                    if (index !== -1 && index !== activeLyricIndex) {
                        setActiveLyricIndex(index);
                    }
                };
                if (audio) {
                    audio.addEventListener('timeupdate', handleTimeUpdate);
                    return () => audio.removeEventListener('timeupdate', handleTimeUpdate);
                }
            }, [activeLyricIndex]);

            return (
                <div className="min-h-screen flex items-center justify-center relative overflow-hidden bg-[#02040a]">
                    <audio ref={audioRef} src="music.mp3" />
                    
                    {/* Atmospheric Stars */}
                    <div className="absolute inset-0 pointer-events-none">
                        {[...Array(40)].map((_, i) => (
                            <div key={i} className="absolute animate-twinkle bg-blue-500 rounded-full"
                                style={{ 
                                    width: Math.random() * 3 + 'px', height: Math.random() * 3 + 'px', 
                                    left: Math.random() * 100 + '%', top: Math.random() * 100 + '%',
                                    animationDelay: Math.random() * 5 + 's',
                                    boxShadow: '0 0 8px rgba(59,130,246,0.8)'
                                }}
                            />
                        ))}
                    </div>

                    {!isStarted ? (
                        <div onClick={handleStart} className="z-20 text-center cursor-pointer group">
                            <div className="w-44 h-60 mx-auto bg-gradient-to-b from-blue-900/20 to-black border border-blue-400/30 rounded-r-[40px] shadow-[0_0_40px_rgba(30,58,138,0.4)] flex flex-col items-center justify-center transition-all duration-700 group-hover:rotate-y-12 group-hover:scale-105">
                                <span className="text-blue-300 text-5xl mb-4 opacity-80">üñãÔ∏è</span>
                                <span className="text-[10px] tracking-[0.6em] text-blue-200 font-bold uppercase">Open Diary</span>
                            </div>
                            <p className="mt-10 font-['Playfair_Display'] italic text-blue-400/50 tracking-[0.2em] animate-pulse">Tap to feel the music...</p>
                        </div>
                    ) : (
                        <div className="w-full max-w-5xl z-10 flex flex-col items-center animate-page-reveal">
                            <div className="relative h-80 flex items-center justify-center text-center w-full">
                                {lyrics.map((line, idx) => (
                                    <div key={idx} 
                                         className={`absolute w-full px-8 transition-all duration-1000 
                                         ${idx === activeLyricIndex ? 'active-text' : 'blur-text translate-y-10'}`}>
                                        {line.isIcon ? (
                                            <div className="text-8xl filter drop-shadow-[0_0_30px_rgba(59,130,246,0.6)] animate-pulse">
                                                {line.text}
                                            </div>
                                        ) : (
                                            <h2 className="font-['Dancing_Script'] text-5xl md:text-8xl text-blue-50 tracking-wide leading-tight">
                                                {line.text}
                                            </h2>
                                        )}
                                    </div>
                                ))}
                            </div>
                            
                            {/* Footer Credit */}
                            <div className="mt-24 opacity-40">
                                <div className="h-[1px] w-32 bg-gradient-to-r from-transparent via-blue-400 to-transparent mx-auto mb-4"></div>
                                <p className="font-['Dancing_Script'] text-2xl text-blue-200">Ft. Sumann</p>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
