<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaagaz Ke Phool | Edit by Ft. Sumann</title>
    <!-- React & Tailwind CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    
    <style>
        body { 
            margin: 0; 
            background: #02040a; 
            color: #d1d5db; 
            overflow: hidden; 
            font-family: 'Playfair Display', serif;
            cursor: crosshair;
        }

        .cursive { font-family: 'Dancing Script', cursive; }

        /* Background Effects */
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.3); }
        }
        .star { position: absolute; background: #60a5fa; border-radius: 50%; animation: twinkle 3s ease-in-out infinite; }

        /* Click Sparkle Animation */
        @keyframes sparkle-pop {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(2) rotate(180deg); opacity: 0; }
        }
        .sparkle-particle { 
            position: fixed; 
            pointer-events: none; 
            z-index: 100; 
            color: #60a5fa; 
            animation: sparkle-pop 0.8s ease-out forwards; 
        }

        /* Lyrics Animation */
        .lyric-active {
            animation: lyric-enter 1s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }
        @keyframes lyric-enter {
            0% { opacity: 0; transform: translateY(40px) scale(0.9); filter: blur(8px); }
            100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
        }

        /* Line Glow */
        @keyframes expand-glow {
            from { width: 0; opacity: 0; }
            to { width: 120px; opacity: 1; }
        }
        .line-glow { 
            animation: expand-glow 1.2s ease-out forwards;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
        }

        .perspective-1000 { perspective: 1000px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;
        const { Heart, Music, Play, Pause, RefreshCw, Sparkles, Star, Feather } = lucide;

        const App = () => {
            const [isStarted, setIsStarted] = useState(false);
            const [isPlaying, setIsPlaying] = useState(false);
            const [activeLyricIndex, setActiveLyricIndex] = useState(0);
            const [clicks, setClicks] = useState([]);
            const audioRef = useRef(null);

            const lyrics = [
                { text: "Kaagaz ke phool laau tere liye", time: 0 },
                { text: "Khat likhu tere liye", time: 4.5 },
                { text: "Mai khuda me maanu nahi", time: 9.0 },
                { text: "Par maangu dua tere liye", time: 13.5 },
                { text: "ðŸ’™", time: 18.0, isIcon: true },
                { text: "Tere liye ghar banaau", time: 21.0 },
                { text: "Deewaarein neele rang se sajaau", time: 25.5 },
                { text: "Pasand hai tumhe, maloom hai", time: 30.0 },
                { text: "Tumne bataya tha ek dafe", time: 34.5 },
                { text: "ðŸ’ ", time: 39.0, isIcon: true },
                { text: "Neele phool laau tere liye", time: 41.5 },
                { text: "Khat likhu tere liye", time: 46.0 },
                { text: "Mai khuda me maanu nahi", time: 50.5 },
                { text: "Par maangu dua tere liye", time: 55.0 },
                { text: "âœ¨", time: 59.5, isIcon: true },
                { text: "Teri baatein nasamajh si phir bhi jaayaz lag rahi hai", time: 63.0 },
                { text: "Tu pareshan kar rahi hai phir bhi masoom lag rahi hai", time: 71.5 },
                { text: "Tere liye mandir jaaun", time: 80.5 },
                { text: "Tere naam ka dia jalaaun", time: 85.0 },
                { text: "Hasta rahe tu chaahe jo ho", time: 89.5 },
                { text: "Teri hasi ko nazar na lage", time: 94.0 },
                { text: "ðŸ§¿", time: 98.5, isIcon: true },
                { text: "Kaagaz ke phool laau tere liye", time: 102.0 },
                { text: "Khat likhu tere liye", time: 106.5 },
                { text: "Mai khuda me maanu nahi", time: 111.0 },
                { text: "Par maangu dua tere liye...", time: 115.5 },
                { text: "ðŸŒŠ", time: 120.0, isIcon: true },
                { text: "Tere liye hum bane hai", time: 123.5 },
                { text: "Tere liye badal rahe hai", time: 128.0 },
                { text: "Kya mohabbat ho gayi hai", time: 132.5 },
                { text: "Teri hi teri baatein kare", time: 137.0 },
                { text: "ðŸ“–", time: 141.5, isIcon: true },
                { text: "Tere liye ghar banaau", time: 144.5 },
                { text: "Deewaarein neele rang se sajaau", time: 149.0 },
                { text: "Pasand hai tumhe, maloom hai", time: 153.5 },
                { text: "Tumne bataya tha ek dafe", time: 158.0 },
                { text: "ðŸ–‹ï¸", time: 162.5, isIcon: true },
                { text: "Dekh shayar bana tere liye", time: 166.5 },
                { text: "Nagma likha tere liye", time: 171.0 },
                { text: "Mai khuda me maanu kyun", time: 175.5 },
                { text: "Tu khuda mere liye â¤ï¸", time: 180.0 },
            ];

            const spawnSparkle = (e) => {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle-particle';
                sparkle.innerHTML = 'âœ¦';
                sparkle.style.left = e.clientX + 'px';
                sparkle.style.top = e.clientY + 'px';
                document.body.appendChild(sparkle);
                setTimeout(() => sparkle.remove(), 800);
            };

            const handleStart = () => {
                setIsStarted(true);
                setIsPlaying(true);
                if (audioRef.current) audioRef.current.play();
            };

            useEffect(() => {
                const audio = audioRef.current;
                const updateLyric = () => {
                    const current = audio.currentTime;
                    const index = lyrics.findLastIndex(l => current >= l.time);
                    if (index !== -1 && index !== activeLyricIndex) {
                        setActiveLyricIndex(index);
                    }
                };
                if (audio) {
                    audio.addEventListener('timeupdate', updateLyric);
                    return () => audio.removeEventListener('timeupdate', updateLyric);
                }
            }, [activeLyricIndex]);

            return (
                <div className="min-h-screen w-full flex items-center justify-center p-6 relative overflow-hidden" onClick={spawnSparkle}>
                    {/* Background Stars */}
                    <div className="absolute inset-0 pointer-events-none opacity-40">
                        {[...Array(30)].map((_, i) => (
                            <div key={i} className="star w-0.5 h-0.5" 
                                 style={{ left: Math.random()*100+'%', top: Math.random()*100+'%', animationDelay: Math.random()*5+'s' }}></div>
                        ))}
                    </div>

                    <audio ref={audioRef} src="music.mp3" onEnded={() => setIsPlaying(false)} />

                    {!isStarted ? (
                        <div onClick={handleStart} className="z-10 text-center cursor-pointer group animate-fade-in">
                            <div className="relative mb-10 w-48 h-64 mx-auto perspective-1000">
                                <div className="w-full h-full bg-[#0a0f1d] border-2 border-blue-500/20 rounded-r-2xl flex flex-col items-center justify-center shadow-[0_0_40px_rgba(30,58,138,0.3)] group-hover:rotate-y-12 transition-all duration-700">
                                    <Feather className="w-12 h-12 text-blue-400 mb-4 animate-pulse" />
                                    <span className="text-[10px] tracking-[0.5em] text-blue-200 uppercase font-bold">Diary</span>
                                </div>
                            </div>
                            <p className="italic text-blue-400/60 tracking-widest animate-bounce">Click to read my heart...</p>
                        </div>
                    ) : (
                        <div className="w-full max-w-4xl z-10 flex flex-col items-center gap-16 animate-page-reveal text-center">
                            
                            <div className="relative w-full h-64 flex flex-col items-center justify-center">
                                {lyrics.map((line, idx) => (
                                    <div key={idx} className={`absolute w-full px-4 transition-all duration-1000 ${idx === activeLyricIndex ? 'lyric-active' : 'opacity-0 translate-y-10 blur-sm'}`}>
                                        {line.isIcon ? (
                                            <div className="text-8xl drop-shadow-xl">{line.text}</div>
                                        ) : (
                                            <div className="flex flex-col items-center gap-6">
                                                <h2 className="cursive text-5xl md:text-8xl text-blue-50 drop-shadow-lg leading-tight">
                                                    {line.text}
                                                </h2>
                                                {idx === activeLyricIndex && <div className="h-[1.5px] line-glow"></div>}
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>

                            <div className="flex flex-col items-center gap-10">
                                <button onClick={(e) => {
                                    e.stopPropagation();
                                    if(audioRef.current.paused) { audioRef.current.play(); setIsPlaying(true); }
                                    else { audioRef.current.pause(); setIsPlaying(false); }
                                }} className="w-20 h-20 bg-blue-600/10 border border-blue-500/30 rounded-full flex items-center justify-center text-blue-400 hover:scale-110 transition-transform shadow-xl">
                                    {isPlaying ? <Pause className="w-8 h-8 fill-current" /> : <Play className="w-8 h-8 ml-1 fill-current" />}
                                </button>
                                
                                <div className="flex flex-col items-center gap-2">
                                    <div className="h-[1px] w-48 bg-gradient-to-r from-transparent via-blue-500/20 to-transparent mb-4"></div>
                                    <p className="cursive text-3xl text-blue-400/80 tracking-widest">
                                        Edit by <span className="text-blue-100 font-bold ml-1">Ft. Sumann</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

